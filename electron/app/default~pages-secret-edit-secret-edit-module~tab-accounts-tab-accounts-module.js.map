{"version":3,"sources":["./src/app/pages/secret-edit/secret-edit-popover/secret-edit-popover.component.ts","./src/app/pages/secret-edit/secret-edit-popover/secret-edit-popover.component.html","./src/app/pages/secret-edit/secret-edit.page.ts","./src/app/pages/secret-edit/secret-edit.page.html"],"names":[],"mappings":"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","file":"default~pages-secret-edit-secret-edit-module~tab-accounts-tab-accounts-module.js","sourcesContent":["import { Component } from '@angular/core'\nimport { AlertController, PopoverController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { first } from 'rxjs/operators'\n\nimport { Secret } from '../../../models/secret'\nimport { ErrorCategory, handleErrorLocal } from '../../../services/error-handler/error-handler.service'\nimport { SecretsService } from '../../../services/secrets/secrets.service'\n\n@Component({\n  selector: 'airgap-secret-edit-popover',\n  templateUrl: './secret-edit-popover.component.html',\n  styleUrls: ['./secret-edit-popover.component.scss']\n})\nexport class SecretEditPopoverComponent {\n  private readonly secret: Secret\n  private readonly onDelete: Function\n\n  constructor(\n    private readonly alertCtrl: AlertController,\n    private readonly secretsService: SecretsService,\n    private readonly popoverController: PopoverController,\n    private readonly translateService: TranslateService\n  ) {}\n\n  public delete(): void {\n    this.translateService\n      .get([\n        'secret-edit-delete-popover.title',\n        'secret-edit-delete-popover.text',\n        'secret-edit-delete-popover.cancel_label',\n        'secret-edit-delete-popover.delete_label'\n      ])\n      .pipe(first())\n      .subscribe(async (values: string[]) => {\n        const title: string = values['secret-edit-delete-popover.title']\n        const message: string = values['secret-edit-delete-popover.text']\n        const cancelButton: string = values['secret-edit-delete-popover.cancel_label']\n        const deleteButton: string = values['secret-edit-delete-popover.delete_label']\n\n        const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n          header: title,\n          message,\n          buttons: [\n            {\n              text: cancelButton,\n              role: 'cancel',\n              handler: (): void => {\n                this.popoverController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n              }\n            },\n            {\n              text: deleteButton,\n              handler: (): void => {\n                this.secretsService.remove(this.secret).catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n                this.popoverController.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n\n                if (this.onDelete) {\n                  this.onDelete()\n                }\n              }\n            }\n          ]\n        })\n        alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n      })\n  }\n}\n","<ion-list lines=\"none\" class=\"ion-no-padding ion-no-margin\">\n  <ion-list-header>\n    <ion-label>Settings</ion-label>\n\n  </ion-list-header>\n  <ion-item button detail=\"false\" (click)=\"delete()\">\n    <ion-icon name=\"md-trash\" color=\"dark\" slot=\"end\"></ion-icon>\n    Delete\n  </ion-item>\n</ion-list>","import { Component } from '@angular/core'\nimport { PopoverController, Platform, ToastController, AlertController } from '@ionic/angular'\n\nimport { Secret } from '../../models/secret'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { InteractionSetting } from '../../services/interaction/interaction.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\n\nimport { SecretEditPopoverComponent } from './secret-edit-popover/secret-edit-popover.component'\nimport { TranslateService } from '@ngx-translate/core'\nimport { ClipboardService } from 'src/app/services/clipboard/clipboard.service'\n\nexport enum SecretEditAction {\n  SET_RECOVERY_KEY\n}\n\n@Component({\n  selector: 'airgap-secret-edit',\n  templateUrl: './secret-edit.page.html',\n  styleUrls: ['./secret-edit.page.scss']\n})\nexport class SecretEditPage {\n  public isGenerating: boolean = false\n  public interactionSetting: boolean = false\n\n  public isAndroid: boolean = false\n\n  public secret: Secret\n\n  constructor(\n    private readonly popoverCtrl: PopoverController,\n    private readonly toastCtrl: ToastController,\n    private readonly alertCtrl: AlertController,\n    private readonly translateService: TranslateService,\n    private readonly clipboardService: ClipboardService,\n    private readonly secretsService: SecretsService,\n    private readonly navigationService: NavigationService,\n    private readonly platform: Platform\n  ) {\n    if (this.navigationService.getState()) {\n      this.isGenerating = this.navigationService.getState().isGenerating\n      this.secret = this.navigationService.getState().secret\n      this.interactionSetting = this.secret.interactionSetting !== InteractionSetting.UNDETERMINED\n\n      this.isAndroid = this.platform.is('android')\n\n      this.perform(this.navigationService.getState().action)\n    }\n  }\n\n  public async confirm(): Promise<void> {\n    try {\n      await this.secretsService.addOrUpdateSecret(this.secret).catch()\n    } catch (error) {\n      handleErrorLocal(ErrorCategory.SECURE_STORAGE)(error)\n\n      // TODO: Show error\n      return\n    }\n\n    await this.dismiss()\n    if (this.isGenerating) {\n      this.navigationService.route('/account-add').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    }\n  }\n\n  public async dismiss(): Promise<boolean> {\n    try {\n      return this.navigationService.routeToAccountsTab()\n    } catch (error) {\n      return false\n    }\n  }\n\n  public goToSocialRecoverySetup(): void {\n    this.navigationService\n      .routeWithState('/social-recovery-setup', { secret: this.secret })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToWalletInteraction(): void {\n    this.navigationService\n      .routeWithState('/interaction-selection-settings', { secret: this.secret, isEdit: true })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public async resetRecoveryPassword(): Promise<void> {\n    try {\n      const recoveryKey = await this.secretsService.resetRecoveryPassword(this.secret)\n      this.showRecoveryKeyAlert(recoveryKey)\n    } catch (e) {\n      this.showToast('secret-edit.secret-recovery-key.reset-error')\n    }\n  }\n\n  public async presentEditPopover(event: Event): Promise<void> {\n    const popover: HTMLIonPopoverElement = await this.popoverCtrl.create({\n      component: SecretEditPopoverComponent,\n      componentProps: {\n        secret: this.secret,\n        onDelete: (): void => {\n          this.dismiss().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n        }\n      },\n      event,\n      translucent: true\n    })\n\n    popover.present().catch(handleErrorLocal(ErrorCategory.IONIC_MODAL))\n  }\n\n  private perform(action: SecretEditAction | undefined): void {\n    switch (action) {\n      case SecretEditAction.SET_RECOVERY_KEY:\n        this.resetRecoveryPassword()\n        break\n    }\n  }\n\n  private async showToast(message: string) {\n    const toast: HTMLIonToastElement = await this.toastCtrl.create({\n      message: this.translateService.instant(message),\n      duration: 1000,\n      position: 'top',\n      buttons: [\n        {\n          text: 'Ok',\n          role: 'cancel'\n        }\n      ]\n    })\n    toast.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n\n  private async showRecoveryKeyAlert(recoveryKey: string): Promise<void> {\n    const alert: HTMLIonAlertElement = await this.alertCtrl.create({\n      header: this.translateService.instant('secret-edit.secret-recovery-key.alert.title'),\n      subHeader: this.translateService.instant('secret-edit.secret-recovery-key.description'),\n      message: recoveryKey,\n      buttons: [\n        {\n          text: this.translateService.instant('secret-edit.secret-recovery-key.alert.copy'),\n          handler: () => {\n            this.clipboardService.copy(recoveryKey)\n            this.showToast('secret-edit.secret-recovery-key.copied')\n          }\n        },\n        {\n          text: this.translateService.instant('secret-edit.secret-recovery-key.alert.done'),\n          handler: () => {}\n        }\n      ]\n    })\n    alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar>\n    <ion-buttons *ngIf=\"!isGenerating\" slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ isGenerating ? 'Save' : 'Edit' }} {{ 'secret-edit.title' | translate }}</ion-title>\n\n    <ion-buttons slot=\"primary\" *ngIf=\"!isGenerating\">\n      <ion-button (click)=\"presentEditPopover($event)\">\n        <ion-icon slot=\"icon-only\" name=\"ellipsis-horizontal-outline\"></ion-icon>\n      </ion-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <p>{{ 'secret-edit.text' | translate }}</p>\n\n  <ion-item class=\"ion-no-padding\">\n    <ion-label color=\"white\" position=\"floating\">{{ 'secret-edit.secret_input_label' | translate }}</ion-label>\n    <ion-input [(ngModel)]=\"secret.label\"></ion-input>\n  </ion-item>\n\n  <p class=\"font--weight__med ion-padding-top\">{{ 'secret-edit.security-level.heading' | translate }}</p>\n\n  <p>{{ 'secret-edit.security-level.text' | translate }}</p>\n\n  <ion-list>\n    <ion-item lines=\"none\" class=\"ion-no-padding\">\n      <ion-avatar slot=\"start\">\n        <div class=\"avatar--container\" [ngClass]=\"secret.isParanoia ? 'background--color__primary' : 'background--color__tertiary'\">\n          <ion-icon src=\"assets/icons/md-fiber_pin.svg\"></ion-icon>\n        </div>\n      </ion-avatar>\n      <ion-label color=\"white\" class=\"ion-text-wrap\">\n        <h2>{{ 'secret-edit.passcode.label' | translate }}</h2>\n        <p [innerHTML]=\"'secret-edit.passcode.text' | translate\"></p>\n      </ion-label>\n      <ion-checkbox slot=\"end\" class=\"ion-no-margin\" [(ngModel)]=\"secret.isParanoia\" [disabled]=\"!secret.secretHex\"></ion-checkbox>\n    </ion-item>\n  </ion-list>\n\n  <ng-container *ngIf=\"!isGenerating\">\n    <p class=\"font--weight__med\">{{ 'secret-edit.secret-recovery.heading' | translate }}</p>\n\n    <ion-item lines=\"none\" detail=\"true\" class=\"ion-no-padding\" (click)=\"goToSocialRecoverySetup()\" [disabled]=\"isGenerating\">\n      <ion-avatar slot=\"start\">\n        <div class=\"avatar--container\" [ngClass]=\"secret.hasSocialRecovery ? 'background--color__primary' : 'background--color__tertiary'\">\n          <ion-icon src=\"assets/icons/md-group_work.svg\"></ion-icon>\n        </div>\n      </ion-avatar>\n      <ion-label color=\"white\" class=\"ion-text-wrap\">\n        <h2>{{ 'secret-edit.social-recovery.label' | translate }}</h2>\n        <p [innerHTML]=\"'secret-edit.social-recovery.text' | translate\"></p>\n      </ion-label>\n    </ion-item>\n\n    <p class=\"font--weight__med\">{{ 'secret-edit.interaction.label' | translate }}</p>\n\n    <ion-item lines=\"none\" detail=\"true\" class=\"ion-no-padding\" (click)=\"goToWalletInteraction()\">\n      <ion-avatar slot=\"start\">\n        <div class=\"avatar--container\" [ngClass]=\"interactionSetting ? 'background--color__primary' : 'background--color__tertiary'\">\n          <ion-icon src=\"assets/icons/md-swap_horiz.svg\"></ion-icon>\n        </div>\n      </ion-avatar>\n      <ion-label color=\"white\" class=\"ion-text-wrap\">\n        <p [innerHTML]=\"'secret-edit.interaction.text' | translate\"></p>\n      </ion-label>\n    </ion-item>\n\n    <p *ngIf=\"isAndroid\" class=\"font--weight__med\">{{ 'secret-edit.secret-recovery-key.label' | translate }}</p>\n    <ion-item *ngIf=\"isAndroid\" lines=\"none\" detail=\"true\" class=\"ion-no-padding\" (click)=\"resetRecoveryPassword()\">\n      <ion-avatar slot=\"start\">\n        <div class=\"avatar--container\" [ngClass]=\"'background--color__tertiary'\">\n          <ion-icon src=\"assets/icons/md-fiber_pin.svg\"></ion-icon>\n        </div>\n      </ion-avatar>\n      <ion-label color=\"white\" class=\"ion-text-wrap\">\n        <p *ngIf=\"secret.hasRecoveryKey\" [innerHTML]=\"'secret-edit.secret-recovery-key.reset-text' | translate\"></p>\n        <p *ngIf=\"!secret.hasRecoveryKey\" [innerHTML]=\"'secret-edit.secret-recovery-key.generate-text' | translate\"></p>\n      </ion-label>\n    </ion-item>\n  </ng-container>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button color=\"primary\" shape=\"round\" [disabled]=\"secret.label.length < 1\" (click)=\"confirm()\">\n      {{ 'secret-edit.confirm_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n"],"sourceRoot":"webpack:///"}