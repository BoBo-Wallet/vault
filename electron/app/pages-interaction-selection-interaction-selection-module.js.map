{"version":3,"sources":["./src/app/pages/interaction-selection/interaction-selection.module.ts","./src/app/pages/interaction-selection/interaction-selection.page.ts","./src/app/pages/interaction-selection/interaction-selection.page.html"],"names":[],"mappings":"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","file":"pages-interaction-selection-interaction-selection-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { InteractionSelectionPage } from './interaction-selection.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: InteractionSelectionPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [InteractionSelectionPage]\n})\nexport class InteractionSelectionPageModule {}\n","import { Component } from '@angular/core'\n\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport {\n  IInteractionOptions,\n  InteractionCommunicationType,\n  InteractionService,\n  InteractionSetting\n} from '../../services/interaction/interaction.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\n\n@Component({\n  selector: 'airgap-interaction-selection',\n  templateUrl: './interaction-selection.page.html',\n  styleUrls: ['./interaction-selection.page.scss']\n})\nexport class InteractionSelectionPage {\n  private interactionOptions: IInteractionOptions\n\n  constructor(\n    private readonly navigationService: NavigationService,\n    private readonly secretsService: SecretsService,\n    private readonly interactionService: InteractionService\n  ) {}\n\n  public ionViewDidEnter(): void {\n    this.interactionOptions = this.navigationService.getState().interactionOptions\n  }\n\n  public async selectOfflineDevice(): Promise<void> {\n    this.interactionOptions.communicationType = InteractionCommunicationType.QR\n    this.goToNextPage()\n  }\n\n  public async selectSameDevice(): Promise<void> {\n    this.interactionOptions.communicationType = InteractionCommunicationType.DEEPLINK\n    this.goToNextPage()\n  }\n\n  private goToNextPage(): void {\n    const secret = this.secretsService.getActiveSecret()\n    if (secret.interactionSetting === InteractionSetting.UNDETERMINED) {\n      this.goToInteractionSelectionSettingsPage(this.interactionOptions)\n    } else {\n      this.interactionService.startInteraction(this.interactionOptions, secret)\n    }\n  }\n\n  private goToInteractionSelectionSettingsPage(interactionOptions: IInteractionOptions): void {\n    this.navigationService\n      .routeWithState('/interaction-selection-settings', { interactionOptions })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n    <ion-title>\n      {{ 'interaction-selection.title' | translate }}\n    </ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h3 class=\"ion-padding-bottom\" [innerHTML]=\"'interaction-selection.heading' | translate\"></h3>\n\n  <ion-row class=\"ion-justify-content-center\"><img src=\"./assets/img/send-one-device.svg\" /></ion-row>\n\n  <ion-row>\n    <ion-col size=\"12\">\n      <ion-button color=\"primary\" shape=\"round\" expand=\"block\" (click)=\"selectSameDevice()\">\n        {{ 'interaction-selection.same-device_label' | translate }}\n      </ion-button>\n      <p>{{ 'interaction-selection.same-device_info' | translate }}</p>\n    </ion-col>\n  </ion-row>\n\n  <ion-row class=\"ion-justify-content-center ion-padding-top\"><img src=\"./assets/img/send-two-device.svg\" /></ion-row>\n\n  <ion-row>\n    <ion-col size=\"12\">\n      <ion-button color=\"primary\" shape=\"round\" expand=\"block\" (click)=\"selectOfflineDevice()\">\n        {{ 'interaction-selection.offline-device_label' | translate }}\n      </ion-button>\n      <p>{{ 'interaction-selection.offline-device_info' | translate }}</p>\n    </ion-col>\n  </ion-row>\n</ion-content>\n"],"sourceRoot":"webpack:///"}