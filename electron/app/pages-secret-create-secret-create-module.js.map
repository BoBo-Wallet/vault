{"version":3,"sources":["./src/app/pages/secret-create/secret-create.module.ts","./src/app/pages/secret-create/secret-create.page.ts","./src/app/pages/secret-create/secret-create.page.html"],"names":[],"mappings":"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","file":"pages-secret-create-secret-create-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { SecretCreatePage } from './secret-create.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SecretCreatePage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [SecretCreatePage]\n})\nexport class SecretCreatePageModule {}\n","import { Component, OnInit } from '@angular/core'\nimport { first } from 'rxjs/operators'\n\nimport { Secret } from '../../models/secret'\nimport { DeviceService } from '../../services/device/device.service'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\nimport { SettingsKey, StorageService } from '../../services/storage/storage.service'\n\n@Component({\n  selector: 'airgap-secret-create',\n  templateUrl: './secret-create.page.html',\n  styleUrls: ['./secret-create.page.scss']\n})\nexport class SecretCreatePage implements OnInit {\n  public canGoBack: boolean = false\n\n  constructor(\n    private readonly navigationService: NavigationService,\n    private readonly secretsService: SecretsService,\n    private readonly deviceService: DeviceService,\n    private readonly storageService: StorageService\n  ) {}\n\n  public ngOnInit(): void {\n    this.secretsService\n      .getSecretsObservable()\n      .pipe(first())\n      .subscribe((secrets: Secret[]) => {\n        if (secrets.length > 0) {\n          this.canGoBack = true\n        }\n      })\n  }\n\n  public ionViewDidEnter(): void {\n    this.deviceService.setSecureWindow()\n  }\n\n  public ionViewWillLeave(): void {\n    this.deviceService.clearSecureWindow()\n  }\n\n  public async goToGenerate(): Promise<void> {\n    const hasShownDisclaimer: boolean = await this.storageService.get(SettingsKey.DISCLAIMER_GENERATE_INITIAL)\n    if (hasShownDisclaimer) {\n      this.navigationService.route('/secret-generate').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    } else {\n      this.navigationService.route('/secret-generate-onboarding').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    }\n  }\n\n  public goToImport(): void {\n    this.navigationService.route('/secret-import').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToSocialRecoveryImport(): void {\n    this.navigationService.route('/social-recovery-import').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar *ngIf=\"canGoBack\">\n    <ion-buttons slot=\"start\">\n      <ion-back-button></ion-back-button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <h1>{{ 'secret-create.heading' | translate }}</h1>\n\n  <p class=\"ion-padding-bottom\">{{ 'secret-create.text' | translate }}</p>\n\n  <ion-button color=\"primary\" shape=\"round\" class=\"ion-margin-top\" (click)=\"goToGenerate()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-edit.svg\"></ion-icon>\n    {{ 'secret-create.generate.label' | translate }}\n  </ion-button>\n\n  <p class=\"ion-padding-bottom\">{{ 'secret-create.generate.text' | translate }}</p>\n\n  <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToImport()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-vertical_align_bottom.svg\"></ion-icon>\n    {{ 'secret-create.import.label' | translate }}\n  </ion-button>\n\n  <p class=\"ion-padding-bottom\">{{ 'secret-create.import.text' | translate }}</p>\n\n  <ion-button color=\"tertiary\" shape=\"round\" (click)=\"goToSocialRecoveryImport()\">\n    <ion-icon slot=\"start\" src=\"assets/icons/md-people.svg\"></ion-icon>\n    {{ 'secret-create.social-recovery.label' | translate }}\n  </ion-button>\n\n  <p>{{ 'secret-create.social-recovery.text' | translate }}</p>\n</ion-content>\n"],"sourceRoot":"webpack:///"}