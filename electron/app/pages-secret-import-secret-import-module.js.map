{"version":3,"sources":["./src/app/pages/secret-import/secret-import.module.ts","./src/app/pages/secret-import/secret-import.page.ts","./src/app/pages/secret-import/secret-import.page.html"],"names":[],"mappings":"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","file":"pages-secret-import-secret-import-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { SecretImportPage } from './secret-import.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SecretImportPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, ReactiveFormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [SecretImportPage]\n})\nexport class SecretImportPageModule {}\n","import { Component } from '@angular/core'\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms'\n\nimport { BIP39Signer } from '../../models/BIP39Signer'\nimport { Secret } from '../../models/secret'\nimport { DeviceService } from '../../services/device/device.service'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { MnemonicValidator } from '../../validators/mnemonic.validator'\n\n@Component({\n  selector: 'airgap-secret-import',\n  templateUrl: './secret-import.page.html',\n  styleUrls: ['./secret-import.page.scss']\n})\nexport class SecretImportPage {\n  public mnemonic: string\n  public secretImportForm: FormGroup\n\n  constructor(\n    private readonly deviceService: DeviceService,\n    private readonly navigationService: NavigationService,\n    private readonly formBuilder: FormBuilder\n  ) {\n    const formGroup: {\n      [key: string]: any\n    } = {\n      mnemonic: ['', Validators.compose([Validators.required, MnemonicValidator.isValid])]\n    }\n\n    this.secretImportForm = this.formBuilder.group(formGroup)\n    this.secretImportForm.valueChanges.subscribe(formGroup => {\n      this.mnemonic = formGroup.mnemonic\n    })\n\n  }\n\n  public ionViewDidEnter(): void {\n    this.deviceService.enableScreenshotProtection({ routeBack: 'secret-create' })\n  }\n\n  public ionViewWillLeave(): void {\n    this.deviceService.disableScreenshotProtection()\n  }\n\n  public goToSecretCreatePage(): void {\n    const signer: BIP39Signer = new BIP39Signer()\n\n    const secret: Secret = new Secret(signer.mnemonicToEntropy(BIP39Signer.prepareMnemonic(this.mnemonic)))\n\n    this.navigationService\n      .routeWithState('secret-edit', { secret, isGenerating: true })\n      .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar transparent>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/secret-create\"></ion-back-button>\n    </ion-buttons>\n    <ion-title>{{ 'secret-import.title' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding\">\n  <p>{{ 'secret-import.text' | translate }}</p>\n  <ion-item class=\"ion-no-padding\" [formGroup]=\"secretImportForm\">\n    <ion-textarea [autoGrow]=\"true\" formControlName=\"mnemonic\" placeholder=\"{{ 'secret-import.placeholder' | translate }}\"></ion-textarea>\n  </ion-item>\n\n  <p *ngIf=\"secretImportForm.touched && !secretImportForm.valid\" class=\"ion-margin-top\">\n    {{ 'secret-import.warning' | translate }}\n  </p>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button color=\"primary\" shape=\"round\" (click)=\"goToSecretCreatePage()\" [disabled]=\"!secretImportForm.valid\">\n      {{ 'secret-import.import_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n"],"sourceRoot":"webpack:///"}