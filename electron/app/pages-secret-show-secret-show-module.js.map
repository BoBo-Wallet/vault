{"version":3,"sources":["./src/app/pages/secret-show/secret-show.module.ts","./src/app/pages/secret-show/secret-show.page.ts","./src/app/pages/secret-show/secret-show.page.html"],"names":[],"mappings":"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","file":"pages-secret-show-secret-show-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { SecretShowPage } from './secret-show.page'\n// import { SecretValidatePageModule } from '../secret-validate/secret-validate.module'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SecretShowPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [SecretShowPage]\n})\nexport class SecretShowPageModule {}\n","import { Component } from '@angular/core'\nimport { AlertController } from '@ionic/angular'\nimport { TranslateService } from '@ngx-translate/core'\nimport { first } from 'rxjs/operators'\n\nimport { SHOW_SECRET_MIN_TIME_IN_SECONDS } from '../../constants/constants'\nimport { Secret } from '../../models/secret'\nimport { DeviceService } from '../../services/device/device.service'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\n\n@Component({\n  selector: 'airgap-secret-show',\n  templateUrl: './secret-show.page.html',\n  styleUrls: ['./secret-show.page.scss']\n})\nexport class SecretShowPage {\n  public readonly secret: Secret\n  public readonly startTime: Date = new Date()\n\n  constructor(\n    private readonly deviceService: DeviceService,\n    private readonly navigationService: NavigationService,\n    private readonly alertController: AlertController,\n    private readonly translateService: TranslateService\n  ) {\n    this.secret = this.navigationService.getState().secret\n  }\n\n  public ionViewDidEnter(): void {\n    this.deviceService.enableScreenshotProtection({ routeBack: 'secret-create' })\n  }\n\n  public ionViewWillLeave(): void {\n    this.deviceService.disableScreenshotProtection()\n  }\n\n  public goToValidateSecret(): void {\n    if (this.startTime.getTime() + SHOW_SECRET_MIN_TIME_IN_SECONDS * 1000 > new Date().getTime()) {\n      this.translateService\n        .get([\n          'secret-show.too-fast_alert.title',\n          'secret-show.too-fast_alert.heading',\n          'secret-show.too-fast_alert.text',\n          'secret-show.too-fast_alert.wait_label_p1',\n          'secret-show.too-fast_alert.wait_label_p2'\n        ])\n        .pipe(first())\n        .subscribe(async (values: string[]) => {\n          const title: string = values['secret-show.too-fast_alert.title']\n          const heading: string = values['secret-show.too-fast_alert.heading']\n          const text: string = values['secret-show.too-fast_alert.text']\n          const waitLabelP1: string = values['secret-show.too-fast_alert.wait_label_p1']\n          const waitLabelP2: string = values['secret-show.too-fast_alert.wait_label_p2']\n\n          const alert: HTMLIonAlertElement = await this.alertController.create({\n            header: title,\n            message: [\n              heading,\n              '<br/>',\n              text,\n              '<br/>',\n              waitLabelP1,\n              '<strong>',\n              SHOW_SECRET_MIN_TIME_IN_SECONDS.toString(),\n              waitLabelP2,\n              '</strong>'\n            ].join(''),\n            buttons: ['Okay']\n          })\n          alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n        })\n    } else {\n      this.navigationService\n        .routeWithState('secret-validate', { secret: this.secret })\n        .catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n    }\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar>\n    <ion-buttons slot=\"start\">\n      <ion-back-button defaultHref=\"/secret-create\"></ion-back-button>\n    </ion-buttons>\n\n    <ion-title>{{ 'secret-show.title' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content class=\"ion-padding colored-background\">\n  <p class=\"ion-padding-bottom\">{{ 'secret-show.text' | translate }}</p>\n\n  <h6 class=\"typography--mono\">{{ secret.recoverMnemonicFromHex(secret.secretHex) }}</h6>\n\n  <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n    <ion-button shape=\"round\" color=\"primary\" (click)=\"goToValidateSecret()\">\n      {{ 'secret-show.next-step_label' | translate }}\n    </ion-button>\n  </ion-fab>\n</ion-content>\n"],"sourceRoot":"webpack:///"}