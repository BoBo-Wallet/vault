{"version":3,"sources":["./src/app/pages/tab-settings/tab-settings.module.ts","./src/app/pages/tab-settings/tab-settings.page.ts","./src/app/pages/tab-settings/tab-settings.page.html"],"names":[],"mappings":"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","file":"tab-settings-tab-settings-module.js","sourcesContent":["import { CommonModule } from '@angular/common'\nimport { NgModule } from '@angular/core'\nimport { FormsModule } from '@angular/forms'\nimport { RouterModule, Routes } from '@angular/router'\nimport { IonicModule } from '@ionic/angular'\nimport { TranslateModule } from '@ngx-translate/core'\n\nimport { ComponentsModule } from '../../components/components.module'\n\nimport { TabSettingsPage } from './tab-settings.page'\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TabSettingsPage\n  }\n]\n\n@NgModule({\n  imports: [CommonModule, ComponentsModule, FormsModule, IonicModule, RouterModule.forChild(routes), TranslateModule],\n  declarations: [TabSettingsPage]\n})\nexport class TabSettingsPageModule {}\n","import { Component } from '@angular/core'\nimport { AlertController, ToastController } from '@ionic/angular'\nimport { Observable } from 'rxjs'\n\nimport { Secret } from '../../models/secret'\nimport { ClipboardService } from '../../services/clipboard/clipboard.service'\nimport { ErrorCategory, handleErrorLocal } from '../../services/error-handler/error-handler.service'\nimport { NavigationService } from '../../services/navigation/navigation.service'\nimport { SchemeRoutingService } from '../../services/scheme-routing/scheme-routing.service'\nimport { SecretsService } from '../../services/secrets/secrets.service'\nimport { SerializerService } from '../../services/serializer/serializer.service'\n\n@Component({\n  selector: 'airgap-tab-settings',\n  templateUrl: './tab-settings.page.html',\n  styleUrls: ['./tab-settings.page.scss']\n})\nexport class TabSettingsPage {\n  public readonly secrets: Observable<Secret[]>\n\n  constructor(\n    public readonly serializerService: SerializerService,\n    private readonly secretsService: SecretsService,\n    private readonly alertController: AlertController,\n    private readonly toastController: ToastController,\n    private readonly schemeRoutingService: SchemeRoutingService,\n    private readonly clipboardService: ClipboardService,\n    private readonly navigationService: NavigationService\n  ) {\n    this.secrets = this.secretsService.getSecretsObservable()\n  }\n\n  public goToNewSecret(): void {\n    this.navigationService.route('/secret-create').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public goToEditSecret(secret: Secret): void {\n    this.navigationService.routeWithState('/secret-edit', { secret }).catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public async deleteSecret(secret: Secret): Promise<void> {\n    const alert: HTMLIonAlertElement = await this.alertController.create({\n      header: 'Delete ' + secret.label,\n      subHeader: 'Are you sure you want to delete ' + secret.label + '?',\n      buttons: [\n        {\n          text: 'Delete',\n          handler: async () => {\n            this.secretsService.remove(secret).catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n\n            const toast: HTMLIonToastElement = await this.toastController.create({\n              message: 'Secret deleted',\n              duration: 5000,\n              buttons: [\n                {\n                  text: 'Undo',\n                  role: 'cancel'\n                }\n              ]\n            })\n\n            toast.onDidDismiss().then((role) => {\n              if (role === 'close') {\n                this.secretsService.addOrUpdateSecret(secret).catch(handleErrorLocal(ErrorCategory.SECURE_STORAGE))\n              }\n            })\n\n            toast.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n          }\n        },\n        {\n          text: 'Cancel'\n        }\n      ]\n    })\n    alert.present().catch(handleErrorLocal(ErrorCategory.IONIC_ALERT))\n  }\n\n  public goToAbout(): void {\n    this.navigationService.route('/about').catch(handleErrorLocal(ErrorCategory.IONIC_NAVIGATION))\n  }\n\n  public pasteClipboard(): void {\n    this.clipboardService.paste().then(\n      (text: string) => {\n        this.schemeRoutingService.handleNewSyncRequest(text).catch(handleErrorLocal(ErrorCategory.SCHEME_ROUTING))\n      },\n      (err: string) => {\n        console.error('Error: ' + err)\n      }\n    )\n  }\n\n  public switchSerializerVersion(event: TouchEvent): void {\n    console.log((event.detail as any).checked)\n    this.serializerService.useV2 = (event.detail as any).checked\n  }\n  public qrMsChanged(event: TouchEvent): void {\n    console.log((event.detail as any).value)\n    this.serializerService.displayTimePerChunk = (event.detail as any).value\n  }\n  public qrBytesChanged(event: TouchEvent): void {\n    console.log((event.detail as any).value)\n    this.serializerService.chunkSize = (event.detail as any).value\n  }\n}\n","<ion-header no-border>\n  <ion-toolbar color=\"secondary\">\n    <ion-title>{{ 'tab-settings.title' | translate }}</ion-title>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>{{ 'tab-settings.information_label' | translate }}</ion-label>\n    </ion-list-header>\n\n    <ion-item lines=\"none\" detail=\"true\" (click)=\"goToAbout()\">\n      <ion-icon slot=\"start\" color=\"dark\" src=\"assets/icons/md-info.svg\"></ion-icon>\n      <ion-label>{{ 'tab-settings.about' | translate }}</ion-label>\n    </ion-item>\n  </ion-list>\n  <ion-list>\n    <ion-list-header>\n      <ion-label>{{ 'tab-settings.secrets_label' | translate }}</ion-label>\n    </ion-list-header>\n    <ng-container *ngFor=\"let secret of secrets | async\">\n      <airgap-secret-item [secret]=\"secret\" (click)=\"goToEditSecret(secret)\" class=\"ion-padding\"></airgap-secret-item>\n    </ng-container>\n    <ion-row class=\"ion-padding ion-justify-content-end\">\n      <ion-button color=\"secondary\" (click)=\"goToNewSecret()\" shape=\"round\">\n        <ion-icon slot=\"start\" name=\"add\"></ion-icon>\n        <ion-label>{{ 'tab-settings.add-settings_label' | translate }}</ion-label>\n      </ion-button>\n    </ion-row>\n  </ion-list>\n  <ion-list no-border lines=\"none\">\n    <ion-list-header class=\"ion-no-margin\" lines=\"none\">\n      <ion-label>{{ 'tab-settings.qr.settings_label' | translate }}</ion-label>\n    </ion-list-header>\n    <ion-item (click)=\"pasteClipboard()\">\n      <ion-icon name=\"return-right\" slot=\"start\"></ion-icon>\n      {{ 'tab-settings.paste-from-clipboard_label' | translate }}\n    </ion-item>\n    <ion-item>\n      {{ 'tab-settings.qr.enable-new-serializer_label' | translate }}\n      <ion-toggle [(ngModel)]=\"serializerService.useV2\" slot=\"end\"></ion-toggle>\n    </ion-item>\n    <ion-item>\n      <ion-label>\n        {{ 'tab-settings.qr.page-time_label' | translate }} ({{ serializerService.displayTimePerChunk }} ms)\n      </ion-label>\n    </ion-item>\n    <ion-item>\n      <ion-range [(ngModel)]=\"serializerService.displayTimePerChunk\" min=\"100\" max=\"2000\" step=\"50\" pin snaps=\"false\" color=\"secondary\">\n        <ion-label slot=\"start\">100 ms</ion-label>\n        <ion-label slot=\"end\">2000 ms</ion-label>\n      </ion-range>\n    </ion-item>\n    <ion-item>\n      <ion-label>\n        {{ 'tab-settings.qr.page-size_label' | translate }} ({{ serializerService.chunkSize }} bytes)\n      </ion-label>\n    </ion-item>\n    <ion-item>\n      <ion-range [(ngModel)]=\"serializerService.chunkSize\" min=\"10\" max=\"500\" step=\"10\" pin snaps=\"false\" color=\"secondary\">\n        <ion-label slot=\"start\">10 bytes</ion-label>\n        <ion-label slot=\"end\">500 bytes</ion-label>\n      </ion-range>\n    </ion-item>\n  </ion-list>\n</ion-content>\n"],"sourceRoot":"webpack:///"}